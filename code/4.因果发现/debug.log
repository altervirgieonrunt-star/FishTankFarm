============================================================
  ğŸŒ³ å› æœå‘ç°ä¸æ¨ç† (LiNGAM + DoWhy)
============================================================
  æ—¶é—´: 2026-02-11 22:33:33
  è¾“å‡º: /Users/liuziqian/science/å†œæ”¿é½æ°‘é±¼èœå…±ç”Ÿ/code/4.å› æœå‘ç°/output


========================================
ğŸ“ ç«™ç‚¹: çº¢å…‰
========================================
ğŸ“Š [çº¢å…‰] åŠ è½½æ•°æ®: (21970, 13)
   å˜é‡: ['Light_Hours', 'Light_Peak', 'Water_Temp', 'Water_Temp_Diff', 'DO', 'Ammonia', 'PH', 'EC', 'Air_Temp', 'Air_Temp_Diff', 'Humidity', 'Veg_Disease', 'Fish_Death']

ğŸ§  [çº¢å…‰] æ­£åœ¨å­¦ä¹ å› æœç»“æ„ (DirectLiNGAM)...
   âš ï¸ æ•°æ®é‡è¾ƒå¤§ (21970), æŠ½æ · 1000 ç”¨äºç»“æ„å­¦ä¹ ...
   å› æœé¡ºåº: ['Veg_Disease', 'Humidity', 'Light_Peak', 'Air_Temp_Diff', 'Water_Temp_Diff', 'PH', 'DO', 'Ammonia', 'Fish_Death', 'Air_Temp', 'Light_Hours', 'Water_Temp', 'EC']
   âš ï¸ æœªæ‰¾åˆ° 'dot' å‘½ä»¤ (Graphviz)ï¼Œè·³è¿‡å› æœå›¾ç»˜åˆ¶
   ğŸ•¸ï¸ å‘ç°çš„å› æœè¾¹ (é˜ˆå€¼ > 0.01):
      Air_Temp -> Light_Hours (w=0.4821)
      Air_Temp_Diff -> Light_Hours (w=-0.0414)
      Humidity -> Light_Hours (w=-0.0177)
      Humidity -> Light_Peak (w=27.8402)
      Veg_Disease -> Light_Peak (w=310.6485)
      Light_Hours -> Water_Temp (w=0.2530)
      Water_Temp_Diff -> Water_Temp (w=0.2125)
      Air_Temp -> Water_Temp (w=0.3712)
      Air_Temp_Diff -> Water_Temp (w=-0.2283)
      Humidity -> Water_Temp (w=-0.0845)
      Humidity -> Water_Temp_Diff (w=-0.0652)
      Air_Temp_Diff -> DO (w=0.0423)
      Humidity -> DO (w=0.0100)
      PH -> Ammonia (w=-0.5154)
      Water_Temp_Diff -> PH (w=-0.0213)
      DO -> EC (w=-0.0211)
      Water_Temp_Diff -> Air_Temp (w=-0.1035)
      PH -> Air_Temp (w=1.1027)
      Air_Temp_Diff -> Air_Temp (w=0.3288)
      Humidity -> Air_Temp (w=0.1479)
      Veg_Disease -> Air_Temp (w=-0.5564)
      Fish_Death -> Air_Temp (w=0.0523)

ğŸ§  [çº¢å…‰] æ„å»ºä¸“å®¶å› æœå›¾ (Physics-Guided)...

ğŸ” [çº¢å…‰] ä¼°è®¡å› æœæ•ˆåº”: Light_Hours -> Veg_Disease
   ğŸ¯ å› æœæ•ˆåº” (ATE): -0.0857
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=-0.0857 (åŸ=-0.0857)

ğŸ” [çº¢å…‰] ä¼°è®¡å› æœæ•ˆåº”: Water_Temp_Diff -> Fish_Death
   ğŸ¯ å› æœæ•ˆåº” (ATE): 0.1168
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=0.1218 (åŸ=0.1168)

ğŸ” [çº¢å…‰] ä¼°è®¡å› æœæ•ˆåº”: DO -> Fish_Death
   ğŸ¯ å› æœæ•ˆåº” (ATE): 0.1030
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=0.1052 (åŸ=0.1030)

ğŸ” [çº¢å…‰] ä¼°è®¡å› æœæ•ˆåº”: Ammonia -> Fish_Death
   ğŸ¯ å› æœæ•ˆåº” (ATE): 0.3337
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=0.3333 (åŸ=0.3337)

ğŸ” [çº¢å…‰] ä¼°è®¡å› æœæ•ˆåº”: EC -> Veg_Disease
   ğŸ¯ å› æœæ•ˆåº” (ATE): -0.1851
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=-0.1853 (åŸ=-0.1851)

ğŸ” [çº¢å…‰] ä¼°è®¡å› æœæ•ˆåº”: Humidity -> Veg_Disease
   ğŸ¯ å› æœæ•ˆåº” (ATE): 0.0053
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=0.0053 (åŸ=0.0053)


========================================
ğŸ“ ç«™ç‚¹: å–€å·¦
========================================
ğŸ“Š [å–€å·¦] åŠ è½½æ•°æ®: (9900, 13)
   å˜é‡: ['Light_Hours', 'Light_Peak', 'Water_Temp', 'Water_Temp_Diff', 'DO', 'Ammonia', 'PH', 'EC', 'Air_Temp', 'Air_Temp_Diff', 'Humidity', 'Veg_Disease', 'Fish_Death']

ğŸ§  [å–€å·¦] æ­£åœ¨å­¦ä¹ å› æœç»“æ„ (DirectLiNGAM)...
   âš ï¸ æ•°æ®é‡è¾ƒå¤§ (9900), æŠ½æ · 1000 ç”¨äºç»“æ„å­¦ä¹ ...
   å› æœé¡ºåº: ['Fish_Death', 'Veg_Disease', 'Water_Temp_Diff', 'Air_Temp_Diff', 'Light_Peak', 'Light_Hours', 'Ammonia', 'EC', 'DO', 'Humidity', 'Air_Temp', 'PH', 'Water_Temp']
   âš ï¸ æœªæ‰¾åˆ° 'dot' å‘½ä»¤ (Graphviz)ï¼Œè·³è¿‡å› æœå›¾ç»˜åˆ¶
   ğŸ•¸ï¸ å‘ç°çš„å› æœè¾¹ (é˜ˆå€¼ > 0.01):
      Water_Temp_Diff -> Light_Hours (w=0.0407)
      Air_Temp_Diff -> Light_Hours (w=0.0817)
      Veg_Disease -> Light_Hours (w=0.4531)
      Fish_Death -> Light_Hours (w=0.0125)
      Water_Temp_Diff -> Light_Peak (w=-763.0457)
      Air_Temp_Diff -> Light_Peak (w=711.0053)
      Light_Hours -> Water_Temp (w=0.2801)
      DO -> Water_Temp (w=-0.3073)
      Ammonia -> Water_Temp (w=-0.8163)
      Air_Temp -> Water_Temp (w=0.5441)
      Air_Temp_Diff -> Water_Temp (w=-0.1094)
      Humidity -> Water_Temp (w=-0.0231)
      Veg_Disease -> Water_Temp (w=-0.6673)
      Water_Temp_Diff -> DO (w=-0.0710)
      EC -> DO (w=-0.4736)
      Air_Temp_Diff -> DO (w=0.0530)
      Light_Hours -> Ammonia (w=0.0278)
      Water_Temp_Diff -> Ammonia (w=-0.0219)
      Light_Hours -> PH (w=0.0640)
      Water_Temp_Diff -> PH (w=-0.0477)
      DO -> PH (w=0.0514)
      EC -> PH (w=-0.2915)
      Light_Hours -> EC (w=-0.0673)
      Water_Temp_Diff -> EC (w=0.0396)
      Ammonia -> EC (w=-0.1544)
      Veg_Disease -> EC (w=-0.1692)
      Light_Hours -> Air_Temp (w=1.2544)
      Water_Temp_Diff -> Air_Temp (w=0.1078)
      DO -> Air_Temp (w=-0.2076)
      Ammonia -> Air_Temp (w=-0.3928)
      Air_Temp_Diff -> Air_Temp (w=0.1961)
      Humidity -> Air_Temp (w=0.1139)
      Veg_Disease -> Air_Temp (w=-1.1369)
      Fish_Death -> Air_Temp (w=0.0202)
      Light_Hours -> Humidity (w=-1.2802)
      Water_Temp_Diff -> Humidity (w=-0.5181)
      DO -> Humidity (w=-0.9892)
      Ammonia -> Humidity (w=-5.0223)
      Air_Temp_Diff -> Humidity (w=-0.9001)
      Fish_Death -> Humidity (w=0.0840)

ğŸ§  [å–€å·¦] æ„å»ºä¸“å®¶å› æœå›¾ (Physics-Guided)...

ğŸ” [å–€å·¦] ä¼°è®¡å› æœæ•ˆåº”: Light_Hours -> Veg_Disease
   ğŸ¯ å› æœæ•ˆåº” (ATE): 0.0256
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=0.0257 (åŸ=0.0256)

ğŸ” [å–€å·¦] ä¼°è®¡å› æœæ•ˆåº”: Water_Temp_Diff -> Fish_Death
   ğŸ¯ å› æœæ•ˆåº” (ATE): -0.2583
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=-0.2613 (åŸ=-0.2583)

ğŸ” [å–€å·¦] ä¼°è®¡å› æœæ•ˆåº”: DO -> Fish_Death
   ğŸ¯ å› æœæ•ˆåº” (ATE): 0.1266
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=0.1268 (åŸ=0.1266)

ğŸ” [å–€å·¦] ä¼°è®¡å› æœæ•ˆåº”: Ammonia -> Fish_Death
   ğŸ¯ å› æœæ•ˆåº” (ATE): -3.5073
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=-3.4587 (åŸ=-3.5073)

ğŸ” [å–€å·¦] ä¼°è®¡å› æœæ•ˆåº”: EC -> Veg_Disease
   ğŸ¯ å› æœæ•ˆåº” (ATE): -0.0555
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=-0.0555 (åŸ=-0.0555)

ğŸ” [å–€å·¦] ä¼°è®¡å› æœæ•ˆåº”: Humidity -> Veg_Disease
   ğŸ¯ å› æœæ•ˆåº” (ATE): -0.0005
      âš ï¸ æ— æ³•è·å– p-value: unsupported format string passed to numpy.ndarray.__format__
   ğŸ›¡ï¸ å®‰æ…°å‰‚æ£€éªŒ p-value: 1.0000 (åº”è¯¥æ˜¯æ— å…³çš„)
   ğŸ›¡ï¸ å­é›†éªŒè¯: æ–°ATE=-0.0005 (åŸ=-0.0005)
Traceback (most recent call last):
  File "/Users/liuziqian/science/å†œæ”¿é½æ°‘é±¼èœå…±ç”Ÿ/code/4.å› æœå‘ç°/causal_discovery.py", line 398, in <module>
    main()
  File "/Users/liuziqian/science/å†œæ”¿é½æ°‘é±¼èœå…±ç”Ÿ/code/4.å› æœå‘ç°/causal_discovery.py", line 384, in main
    json.dump(results, f, ensure_ascii=False, indent=2)
  File "/opt/miniconda3/envs/3.12/lib/python3.12/json/__init__.py", line 179, in dump
    for chunk in iterable:
                 ^^^^^^^^
  File "/opt/miniconda3/envs/3.12/lib/python3.12/json/encoder.py", line 432, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/opt/miniconda3/envs/3.12/lib/python3.12/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/opt/miniconda3/envs/3.12/lib/python3.12/json/encoder.py", line 326, in _iterencode_list
    yield from chunks
  File "/opt/miniconda3/envs/3.12/lib/python3.12/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/opt/miniconda3/envs/3.12/lib/python3.12/json/encoder.py", line 439, in _iterencode
    o = _default(o)
        ^^^^^^^^^^^
  File "/opt/miniconda3/envs/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ndarray is not JSON serializable
